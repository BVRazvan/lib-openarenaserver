$(eval $(call addlib_s,libopenarenaserver,$(CONFIG_LIBOPENARENASERVER)))

LIBOPENARENASERVER_VERSION = 0.8.8
LIBOPENARENASERVER_BASENAME = engine-master
LIBOPENARENASERVER_URL = https://github.com/OpenArena/engine/archive/refs/heads/master.zip
$(eval $(call fetch,libopenarenaserver,$(LIBOPENARENASERVER_URL)))

LIBOPENARENASERVER_SRC = $(LIBOPENARENASERVER_ORIGIN)/$(LIBOPENARENASERVER_BASENAME)/code

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_MAIN_FUNCTION) += $(LIBOPENARENASERVER_BASE)/main.c

LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_ASM) += -I$(LIBOPENARENASERVER_SRC)/asm
LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += -I$(LIBOPENARENASERVER_SRC)/botlib
LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_GAME) += -I$(LIBOPENARENASERVER_SRC)/game
LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_NULL) += -I$(LIBOPENARENASERVER_SRC)/null
LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -I$(LIBOPENARENASERVER_SRC)/qcommon
LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_SERVER) += -I$(LIBOPENARENASERVER_SRC)/server
LIBOPENARENASERVER_CINCLUDES-$(CONFIG_LIBOPENARENASERVER_SYS) += -I$(LIBOPENARENASERVER_SRC)/sys

CFLAGS_OA = -std=gnu11 -Wall -fno-strict-aliasing -Wimplicit -Wstrict-prototypes -pipe -DSTANDALONE -DPRODUCT_VERSION=\"3\" -Wformat=2 -Wno-format-zero-length \
	    -Wformat-security -Wno-format-nonliteral -Wstrict-aliasing=2 -Wmissing-format-attribute -Wdisabled-optimization -Werror-implicit-function-declaration -MMD -D__linux__
OPTIMIZE_OA = -DNDEBUG -O3 -fomit-frame-pointer -funroll-loops -ffast-math -flto
SERVER_CFLAGS_OA = -DUSE_VOIP

LIBOPENARENASERVER_SYS_MAIN_FLAGS-y += -Dmain=openarenaserver_main

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_bot.c
LIBOPENARENASERVER_SV_BOT_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_client.c
LIBOPENARENASERVER_SV_CLIENT_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_ccmds.c
LIBOPENARENASERVER_SV_CCMDS_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_game.c
LIBOPENARENASERVER_SV_GAME_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_init.c
LIBOPENARENASERVER_SV_INIT_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_main.c
LIBOPENARENASERVER_SV_MAIN_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_net_chan.c
LIBOPENARENASERVER_SV_NET_CHAN_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_snapshot.c
LIBOPENARENASERVER_SV_SNAPSHOT_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SERVER) += $(LIBOPENARENASERVER_SRC)/server/sv_world.c
LIBOPENARENASERVER_SV_WORLD_FLAGS-$(CONFIG_LIBOPENARENASERVER_SERVER) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cm_load.c
LIBOPENARENASERVER_CM_LOAD_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cm_patch.c
LIBOPENARENASERVER_CM_PATCH_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cm_polylib.c
LIBOPENARENASERVER_CM_POLYLIB_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cm_test.c
LIBOPENARENASERVER_CM_TEST_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cm_trace.c
LIBOPENARENASERVER_CM_TRACE_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cmd.c
LIBOPENARENASERVER_CMD_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/common.c
LIBOPENARENASERVER_COMMON_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/cvar.c
LIBOPENARENASERVER_CVAR_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/files.c
LIBOPENARENASERVER_FILES_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/md4.c
LIBOPENARENASERVER_MD4_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/msg.c
LIBOPENARENASERVER_MSG_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/net_chan.c
LIBOPENARENASERVER_NET_CHAN_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/net_ip.c
LIBOPENARENASERVER_NET_IP_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/huffman.c
LIBOPENARENASERVER_HUFFMAN_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/q_math.c
LIBOPENARENASERVER_Q_MATH_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/q_shared.c
LIBOPENARENASERVER_Q_SHARED_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/unzip.c
LIBOPENARENASERVER_UNZIP_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/ioapi.c
LIBOPENARENASERVER_IOAPI_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/vm.c
LIBOPENARENASERVER_VM_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/vm_interpreted.c
LIBOPENARENASERVER_VM_INTERPRETED_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_bspq3.c
LIBOPENARENASERVER_BE_AAS_BSPQ3_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_cluster.c
LIBOPENARENASERVER_BE_AAS_CLUSTER_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_debug.c
LIBOPENARENASERVER_BE_AAS_DEBUG_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_entity.c
LIBOPENARENASERVER_BE_AAS_ENTITY_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_file.c
LIBOPENARENASERVER_BE_AAS_FILE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_main.c
LIBOPENARENASERVER_BE_AAS_MAIN_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_move.c
LIBOPENARENASERVER_BE_AAS_MOVE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_optimize.c
LIBOPENARENASERVER_BE_AAS_OPTIMIZE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_reach.c
LIBOPENARENASERVER_BE_AAS_REACH_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_route.c
LIBOPENARENASERVER_BE_AAS_ROUTE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_routealt.c
LIBOPENARENASERVER_BE_AAS_ROUTEALT_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_aas_sample.c
LIBOPENARENASERVER_BE_AAS_SAMPLE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_char.c
LIBOPENARENASERVER_BE_AI_CHAR_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_chat.c
LIBOPENARENASERVER_BE_AI_CHAT_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_gen.c
LIBOPENARENASERVER_BE_AI_GEN_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_goal.c
LIBOPENARENASERVER_BE_AI_GOAL_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_move.c
LIBOPENARENASERVER_BE_AI_MOVE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_weap.c
LIBOPENARENASERVER_BE_AI_WEAP_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ai_weight.c
LIBOPENARENASERVER_BE_AI_WEIGHT_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_ea.c
LIBOPENARENASERVER_BE_EA_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/be_interface.c
LIBOPENARENASERVER_BE_INTERFACE_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_crc.c
LIBOPENARENASERVER_L_CRC_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_libvar.c
LIBOPENARENASERVER_L_LIBVAR_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_log.c
LIBOPENARENASERVER_L_LOG_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_memory.c
LIBOPENARENASERVER_L_MEMORY_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_precomp.c
LIBOPENARENASERVER_L_PRECOMP_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_script.c
LIBOPENARENASERVER_L_SCRIPT_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(LIBOPENARENASERVER_SRC)/botlib/l_struct.c
LIBOPENARENASERVER_L_STRUCT_FLAGS-$(CONFIG_LIBOPENARENASERVER_BOTLIB) += $(CFLAGS_OA) $(OPTIMIZE_OA) -DBOTLIB

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_NULL) += $(LIBOPENARENASERVER_SRC)/null/null_client.c
LIBOPENARENASERVER_NULL_CLIENT_FLAGS-$(CONFIG_LIBOPENARENASERVER_NULL) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_NULL) += $(LIBOPENARENASERVER_SRC)/null/null_input.c
LIBOPENARENASERVER_NULL_INPUT_FLAGS-$(CONFIG_LIBOPENARENASERVER_NULL) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_NULL) += $(LIBOPENARENASERVER_SRC)/null/null_snddma.c
LIBOPENARENASERVER_NULL_SNDDMA_FLAGS-$(CONFIG_LIBOPENARENASERVER_NULL) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SYS) += $(LIBOPENARENASERVER_SRC)/sys/con_log.c
LIBOPENARENASERVER_CON_LOG_FLAGS-$(CONFIG_LIBOPENARENASERVER_SYS) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SYS) += $(LIBOPENARENASERVER_SRC)/sys/sys_main.c
LIBOPENARENASERVER_SYS_MAIN_FLAGS-$(CONFIG_LIBOPENARENASERVER_SYS) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_ASM) += $(LIBOPENARENASERVER_SRC)/asm/snapvector.c
LIBOPENARENASERVER_SNAPVECTOR_FLAGS-$(CONFIG_LIBOPENARENASERVER_ASM) += $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_ASM) += $(LIBOPENARENASERVER_SRC)/asm/ftola.c
LIBOPENARENASERVER_FTOLA_FLAGS-$(CONFIG_LIBOPENARENASERVER_ASM) += $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += $(LIBOPENARENASERVER_SRC)/qcommon/vm_x86.c
LIBOPENARENASERVER_VM_X86_FLAGS-$(CONFIG_LIBOPENARENASERVER_QCOMMON) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SYS) += $(LIBOPENARENASERVER_SRC)/sys/sys_unix.c
LIBOPENARENASERVER_SYS_UNIX_FLAGS-$(CONFIG_LIBOPENARENASERVER_SYS) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)

LIBOPENARENASERVER_SRCS-$(CONFIG_LIBOPENARENASERVER_SYS) += $(LIBOPENARENASERVER_SRC)/sys/con_tty.c
LIBOPENARENASERVER_CON_TTY_FLAGS-$(CONFIG_LIBOPENARENASERVER_SYS) += -DDEDICATED $(CFLAGS_OA) $(SERVER_CFLAGS_OA) $(OPTIMIZE_OA)
